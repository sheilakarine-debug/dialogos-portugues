<!DOCTYPE html>
<!-- Chosen Palette: Calm Neutrals (Tailwind 'stone') with Warm Accents (Tailwind 'amber' and 'cyan') -->
<!-- Application Structure Plan: Foi utilizada uma estrutura de SPA (Single Page Application) com abas (tabs) para segmentar a experiência de aprendizagem. A arquitetura de informação escolhida é: 1) "Diálogo Interativo", 2) "Revisão Gramatical", 3) "Quiz". Esta estrutura foi escolhida porque guia o aluno numa progressão pedagógica lógica: primeiro, rever/praticar o conteúdo principal (o Diálogo Interativo); segundo, consolidar o conhecimento (Revisão dos Possessivos e Estruturas); e terceiro, testar o conhecimento (Quiz). Esta segmentação evita sobrecarga de informação e facilita o foco do utilizador. -->
<!-- Visualization & Content Choices: [Relatório: Script do diálogo com traduções -> Meta: Engajar/Praticar -> Viz: Layout de "Chat" (HTML/Tailwind) -> Interação: Botão "Mostrar/Ocultar Traduções" (JS) que alterna a visibilidade de *todas* as traduções em inglês. -> Justificação: Transforma texto estático numa ferramenta de prática ativa. -> Biblioteca: Vanilla JS]; [Relatório: Foco Gramatical e Estruturas Úteis -> Meta: Organizar/Informar -> Viz: Cartões de Tópicos (HTML/Tailwind Grid) -> Interação: Estático -> Justificação: Destaca visualmente as estruturas gramaticais. -> Biblioteca: HTML/Tailwind]; [Relatório: Diálogo A2 Dados Pessoais -> Meta: Avaliar Compreensão -> Viz: Perguntas Interativas (HTML Forms) -> Interação: Seleção de Respostas (Radio Buttons), Botão "Verificar Respostas" (JS), Feedback (JS) -> Justificação: Permite ao aluno testar ativamente a sua compreensão do diálogo e da gramática relacionada. -> Biblioteca: Vanilla JS] -->
<!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Diálogo Interativo A2: Dados Pessoais</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f5f5f4; /* stone-100 */
        }
        .container {
            max-width: 900px;
            margin: 2rem auto;
            padding: 2rem;
            background-color: white;
            border-radius: 0.75rem;
            box-shadow: 0 10px 25px rgba(0,0,0,0.05);
        }
        .nav-tab {
            padding: 0.75rem 1.25rem;
            border-bottom: 3px solid transparent;
            font-weight: 600;
            color: #57534e; /* stone-600 */
            cursor: pointer;
            transition: all 0.2s ease-in-out;
        }
        .nav-tab:hover {
            color: #0c4a6e; /* cyan-900 */
        }
        .tab-active {
            color: #0ea5e9; /* sky-500 */
            border-bottom-color: #0ea5e9; /* sky-500 */
        }
        .tab-content {
            display: none;
            animation: fadeIn 0.5s;
        }
        .tab-content-active {
            display: block;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .chat-bubble-rececionista {
            background-color: #f5f5f4; /* stone-100 */
            color: #1c1917; /* stone-900 */
            padding: 0.75rem 1rem;
            border-radius: 1.25rem 1.25rem 1.25rem 0.25rem;
            max-width: 80%;
            align-self: flex-start;
        }
        .chat-bubble-ana {
            background-color: #fef3c7; /* amber-100 */
            color: #78350f; /* amber-900 */
            padding: 0.75rem 1rem;
            border-radius: 1.25rem 1.25rem 0.25rem 1.25rem;
            max-width: 80%;
            align-self: flex-end;
        }
        .translation-text {
            display: block;
            margin-top: 0.5rem;
            font-size: 0.9em;
            font-style: italic;
            border-top: 1px dashed rgba(0, 0, 0, 0.1);
            padding-top: 0.5rem;
            color: #57534e; /* stone-600 */
        }
        .quiz-question {
            margin-bottom: 1.5rem;
            padding: 1rem;
            background-color: #fafaf9; /* stone-50 */
            border-radius: 0.5rem;
            border: 1px solid #e7e5e4; /* stone-200 */
        }
        .quiz-options label {
            display: block;
            margin-bottom: 0.5rem;
            padding: 0.5rem;
            border-radius: 0.375rem;
            cursor: pointer;
            transition: background-color 0.2s;
        }
         .quiz-options input[type="radio"] {
            margin-right: 0.5rem;
        }
        .quiz-options label:hover {
            background-color: #e0f2fe; /* light-blue-100 */
        }
        .feedback {
            margin-top: 0.5rem;
            font-weight: 500;
        }
        .correct { color: #15803d; /* green-700 */}
        .incorrect { color: #b91c1c; /* red-700 */ }
    </style>
</head>
<body>

    <div class="container">
        <!-- Cabeçalho -->
        <header class="text-center pb-6 border-b border-stone-200">
            <h1 class="text-4xl font-bold text-cyan-900">Diálogo: Dados Pessoais</h1>
            <p class="text-xl text-stone-600 mt-2">Prática: Preencher um Formulário</p>
             <a href="index.html" class="text-sky-600 hover:text-sky-800 mt-4 inline-block">&larr; Voltar ao Menu Principal</a>
        </header>

        <!-- Navegação por Abas -->
        <nav class="mt-6 border-b border-stone-200">
            <ul class="flex flex-wrap -mb-px">
                <li><button class="nav-tab tab-active" data-tab="dialogo">Diálogo Interativo</button></li>
                <li><button class="nav-tab" data-tab="revisao">Revisão Gramatical</button></li>
                <li><button class="nav-tab" data-tab="quiz">Quiz</button></li>
            </ul>
        </nav>

        <!-- Conteúdo Principal -->
        <main class="mt-8">

            <!-- Aba 1: Diálogo Interativo -->
            <section id="dialogo" class="tab-content tab-content-active">
                <h2 class="text-3xl font-semibold text-stone-800 mb-4">Diálogo Interativo</h2>
                <p class="text-lg text-stone-700 leading-relaxed mb-4">
                    Practice the conversation. Try to read the dialogue in Portuguese first. Use the button below to show or hide the English translations and test your understanding.
                </p>
                <button id="toggleTranslations" class="mb-6 px-5 py-2 bg-sky-600 text-white rounded-lg shadow hover:bg-sky-700 transition-all duration-200">
                    Ocultar Traduções
                </button>

                <div class="space-y-4 p-4 bg-stone-50 rounded-lg max-h-[500px] overflow-y-auto">
                    <!-- Rececionista 1 -->
                    <div class="flex justify-start">
                        <div class="chat-bubble-rececionista">
                            <span class="font-bold block">Rececionista</span>
                            Bom dia! Em que posso ajudar?
                            <span class="translation-text">(Good morning! How can I help?)</span>
                        </div>
                    </div>
                    <!-- Ana 1 -->
                    <div class="flex justify-end">
                        <div class="chat-bubble-ana">
                            <span class="font-bold block">Ana</span>
                            Bom dia. Gostaria de me inscrever na biblioteca.
                            <span class="translation-text">(Good morning. I'd like to sign up for the library.)</span>
                        </div>
                    </div>
                    <!-- Rececionista 2 -->
                    <div class="flex justify-start">
                        <div class="chat-bubble-rececionista">
                            <span class="font-bold block">Rececionista</span>
                            Com certeza. Preciso de alguns dos <strong>seus</strong> dados para preencher a <strong>sua</strong> ficha de inscrição. Pode dizer-me o <strong>seu</strong> nome completo, por favor?
                            <span class="translation-text">(Certainly. I need some of <strong>your</strong> details to fill out <strong>your</strong> registration form. Can you tell me <strong>your</strong> full name, please?)</span>
                        </div>
                    </div>
                    <!-- Ana 2 -->
                    <div class="flex justify-end">
                        <div class="chat-bubble-ana">
                            <span class="font-bold block">Ana</span>
                            Claro. O <strong>meu</strong> nome é Ana Sofia Martins.
                            <span class="translation-text">(Of course. <strong>My</strong> name is Ana Sofia Martins.)</span>
                        </div>
                    </div>
                    <!-- Rececionista 3 -->
                    <div class="flex justify-start">
                        <div class="chat-bubble-rececionista">
                            <span class="font-bold block">Rececionista</span>
                            Obrigado, D. Ana. E qual é a <strong>sua</strong> idade?
                            <span class="translation-text">(Thank you, Ms. Ana. And what is <strong>your</strong> age?)</span>
                        </div>
                    </div>
                    <!-- Ana 3 -->
                    <div class="flex justify-end">
                        <div class="chat-bubble-ana">
                            <span class="font-bold block">Ana</span>
                            Tenho 28 anos. A <strong>minha</strong> data de nascimento é 15 de março de 1997.
                            <span class="translation-text">(I'm 28 years old. <strong>My</strong> date of birth is March 15th, 1997.)</span>
                        </div>
                    </div>
                    <!-- Rececionista 4 -->
                    <div class="flex justify-start">
                        <div class="chat-bubble-rececionista">
                            <span class="font-bold block">Rececionista</span>
                            Muito bem. E qual é a <strong>sua</strong> morada completa, por favor?
                            <span class="translation-text">(Very good. And what is <strong>your</strong> full address, please?)</span>
                        </div>
                    </div>
                    <!-- Ana 4 -->
                    <div class="flex justify-end">
                        <div class="chat-bubble-ana">
                            <span class="font-bold block">Ana</span>
                            A <strong>minha</strong> morada é Rua da Alegria, número 12, 3º Esquerdo, no Porto. O código postal é 4000-123.
                            <span class="translation-text">(<strong>My</strong> address is Rua da Alegria, number 12, 3rd Floor Left, in Porto. The postal code is 4000-123.)</span>
                        </div>
                    </div>
                    <!-- Rececionista 5 -->
                    <div class="flex justify-start">
                        <div class="chat-bubble-rececionista">
                            <span class="font-bold block">Rececionista</span>
                            Perfeito. E qual é o <strong>seu</strong> número de telefone? Para podermos contactá-la.
                            <span class="translation-text">(Perfect. And what is <strong>your</strong> phone number? So we can contact you.)</span>
                        </div>
                    </div>
                    <!-- Ana 5 -->
                    <div class="flex justify-end">
                        <div class="chat-bubble-ana">
                            <span class="font-bold block">Ana</span>
                            O <strong>meu</strong> número é 912 345 678.
                            <span class="translation-text">(<strong>My</strong> number is 912 345 678.)</span>
                        </div>
                    </div>
                    <!-- Rececionista 6 -->
                    <div class="flex justify-start">
                        <div class="chat-bubble-rececionista">
                            <span class="font-bold block">Rececionista</span>
                            Ótimo. Por último, pode dar-me o <strong>seu</strong> endereço de e-mail?
                            <span class="translation-text">(Great. Lastly, can you give me <strong>your</strong> email address?)</span>
                        </div>
                    </div>
                    <!-- Ana 6 -->
                    <div class="flex justify-end">
                        <div class="chat-bubble-ana">
                            <span class="font-bold block">Ana</span>
                            Sim, o <strong>meu</strong> e-mail é anamartins97@email.com.
                            <span class="translation-text">(Yes, <strong>my</strong> email is anamartins97@email.com.)</span>
                        </div>
                    </div>
                     <!-- Rececionista 7 -->
                    <div class="flex justify-start">
                        <div class="chat-bubble-rececionista">
                            <span class="font-bold block">Rececionista</span>
                            Excelente. Já está tudo preenchido. Aqui tem o <strong>seu</strong> cartão de membro. Bem-vinda à biblioteca!
                            <span class="translation-text">(Excellent. Everything is filled out now. Here is <strong>your</strong> member card. Welcome to the library!)</span>
                        </div>
                    </div>
                    <!-- Ana 7 -->
                    <div class="flex justify-end">
                        <div class="chat-bubble-ana">
                            <span class="font-bold block">Ana</span>
                            Muito obrigada pela <strong>sua</strong> ajuda!
                            <span class="translation-text">(Thank you very much for <strong>your</strong> help!)</span>
                        </div>
                    </div>
                     <!-- Rececionista 8 -->
                    <div class="flex justify-start">
                        <div class="chat-bubble-rececionista">
                            <span class="font-bold block">Rececionista</span>
                            De nada! Se precisar de alguma coisa, é só perguntar.
                            <span class="translation-text">(You're welcome! If you need anything, just ask.)</span>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Aba 2: Revisão -->
            <section id="revisao" class="tab-content">
                <h2 class="text-3xl font-semibold text-stone-800 mb-4">Revisão Gramatical</h2>
                <p class="text-lg text-stone-700 leading-relaxed mb-6">
                    This section helps to consolidate what you learned. Review the possessive pronouns and question structures used in the dialogue.
                </p>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <!-- Card de Foco Gramatical -->
                    <div class="bg-stone-50 p-6 rounded-lg shadow-sm border border-stone-200">
                        <h3 class="text-2xl font-semibold text-cyan-900 mb-4">Foco: Pronomes Possessivos</h3>
                        <p class="text-stone-700 mb-3">Estes pronomes mostram posse (possession).</p>

                        <h4 class="font-bold text-lg text-stone-800">Meu / Minha</h4>
                        <p class="text-stone-700 mb-4">(My - masculino / feminino)</p>
                        <ul class="list-disc list-inside ml-2 space-y-1">
                            <li>O <strong>meu</strong> nome...</li>
                            <li>A <strong>minha</strong> morada...</li>
                            <li>O <strong>meu</strong> número...</li>
                        </ul>

                        <h4 class="font-bold text-lg text-stone-800 mt-6">Seu / Sua</h4>
                        <p class="text-stone-700 mb-4">(Your - formal, masculino / feminino)</p>
                        <ul class="list-disc list-inside ml-2 space-y-1">
                            <li>O <strong>seu</strong> nome...</li>
                            <li>A <strong>sua</strong> ficha de inscrição...</li>
                            <li>A <strong>sua</strong> ajuda...</li>
                        </ul>

                        <p class="text-sm text-stone-600 mt-4 p-3 bg-stone-100 rounded">
                           <strong>Nota:</strong> O/A Rececionista usa 'seu/sua' porque está a tratar a Ana por 'você' (formal).
                        </p>
                    </div>

                    <!-- Card de Estruturas Úteis -->
                    <div class="bg-stone-50 p-6 rounded-lg shadow-sm border border-stone-200">
                        <h3 class="text-2xl font-semibold text-cyan-900 mb-4">Estruturas Úteis</h3>
                        <p class="text-stone-700 mb-4">Key phrases from the dialogue for asking for information:</p>
                        <ul class="list-disc list-inside ml-2 space-y-3 text-stone-800">
                            <li>Em que posso ajudar?</li>
                            <li>Gostaria de me inscrever...</li>
                            <li>Preciso de alguns dos seus dados...</li>
                            <li>Pode dizer-me... por favor?</li>
                            <li>Qual é a sua idade?</li>
                            <li>Qual é a sua morada?</li>
                            <li>Qual é o seu número de telefone?</li>
                            <li>Pode dar-me o seu... e-mail?</li>
                            <li>Obrigada pela sua ajuda!</li>
                        </ul>
                    </div>
                </div>
            </section>

             <!-- Aba 3: Quiz -->
            <section id="quiz" class="tab-content">
                <h2 class="text-3xl font-semibold text-stone-800 mb-4">Quick Quiz</h2>
                <p class="text-lg text-stone-700 leading-relaxed mb-6">
                    Test your understanding of the dialogue and vocabulary. Choose the best answer for each question.
                </p>

                <form id="quizForm">
                    <!-- Pergunta 1 -->
                    <div class="quiz-question">
                        <p class="font-semibold mb-2">1. When the Receptionist asks "What is your age?" in Portuguese, which possessive pronoun is used?</p>
                        <div class="quiz-options">
                            <label><input type="radio" name="q1" value="a"> a) minha</label>
                            <label><input type="radio" name="q1" value="b"> b) sua</label>
                            <label><input type="radio" name="q1" value="c"> c) teu</label>
                        </div>
                        <div class="feedback" id="feedback-q1"></div>
                    </div>

                    <!-- Pergunta 2 -->
                    <div class="quiz-question">
                        <p class="font-semibold mb-2">2. When Ana answers about her name, she says:</p>
                        <div class="quiz-options">
                            <label><input type="radio" name="q2" value="a"> a) O seu nome é Ana.</label>
                            <label><input type="radio" name="q2" value="b"> b) O meu nome é Ana.</label>
                            <label><input type="radio" name="q2" value="c"> c) O nome dela é Ana.</label>
                        </div>
                         <div class="feedback" id="feedback-q2"></div>
                    </div>

                    <!-- Pergunta 3 -->
                    <div class="quiz-question">
                        <p class="font-semibold mb-2">3. Which of these pieces of information is NOT requested in the dialogue?</p>
                        <div class="quiz-options">
                            <label><input type="radio" name="q3" value="a"> a) Morada</label>
                            <label><input type="radio" name="q3" value="b"> b) Profissão</label>
                            <label><input type="radio" name="q3" value="c"> c) E-mail</label>
                        </div>
                         <div class="feedback" id="feedback-q3"></div>
                    </div>
                     <!-- Pergunta 4 -->
                    <div class="quiz-question">
                        <p class="font-semibold mb-2">4. The sentence "Obrigada pela ___ ajuda!" should be completed with:</p>
                        <div class="quiz-options">
                            <label><input type="radio" name="q4" value="a"> a) minha</label>
                            <label><input type="radio" name="q4" value="b"> b) sua</label>
                            <label><input type="radio" name="q4" value="c"> c) nossa</label>
                        </div>
                         <div class="feedback" id="feedback-q4"></div>
                    </div>

                    <button type="button" id="checkQuiz" class="mt-4 px-6 py-2 bg-amber-500 text-white rounded-lg shadow hover:bg-amber-600 transition-all duration-200">
                        Check Answers
                    </button>
                    <p id="quizScore" class="mt-4 font-bold text-lg"></p>
                </form>
            </section>

        </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- NOVO: TRUQUE PARA ESCONDER O MENU ---
            const urlParams = new URLSearchParams(window.location.search);
            if (urlParams.get('modo') === 'aula') {
                const backButton = document.querySelector('header a[href="index.html"]');
                if (backButton) {
                    backButton.style.display = 'none';
                }
            }
            // -----------------------------------------
            
            // --- LÓGICA DAS ABAS (TABS) ---
            const tabs = document.querySelectorAll('.nav-tab');
            const contents = document.querySelectorAll('.tab-content');
            const defaultTab = 'dialogo'; // Definir a aba Diálogo como padrão

            // Função para ativar uma aba
            function activateTab(tabId) {
                 tabs.forEach(t => {
                    t.classList.remove('tab-active');
                    if (t.dataset.tab === tabId) {
                        t.classList.add('tab-active');
                    }
                });
                contents.forEach(c => {
                    c.classList.remove('tab-content-active');
                    if (c.id === tabId) {
                        c.classList.add('tab-content-active');
                    }
                });
            }

            // Ativar a aba padrão no carregamento
            activateTab(defaultTab);


            // Adicionar event listeners às abas
            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    activateTab(tab.dataset.tab);
                });
            });


            // --- LÓGICA DO BOTÃO DE TRADUÇÃO ---
            const toggleButton = document.getElementById('toggleTranslations');
            const translations = document.querySelectorAll('#dialogo .translation-text'); // Selecionar apenas as traduções dentro da aba diálogo
            let translationsVisible = true;

            // Inicialmente esconde as traduções se o botão diz 'Mostrar'
            if (toggleButton.textContent.includes('Mostrar')) {
                translationsVisible = false;
                translations.forEach(span => { span.style.display = 'none'; });
            } else {
                 translationsVisible = true;
                translations.forEach(span => { span.style.display = 'block'; });
            }


            toggleButton.addEventListener('click', () => {
                translationsVisible = !translationsVisible; // Inverte o estado

                translations.forEach(span => {
                    span.style.display = translationsVisible ? 'block' : 'none';
                });

                toggleButton.textContent = translationsVisible ? 'Ocultar Traduções' : 'Mostrar Traduções';
            });

             // --- LÓGICA DO QUIZ ---
            const checkQuizButton = document.getElementById('checkQuiz');
            const quizForm = document.getElementById('quizForm');
            const quizScoreDisplay = document.getElementById('quizScore');

            const correctAnswers = {
                q1: 'b',
                q2: 'b',
                q3: 'b',
                q4: 'b'
            };

            checkQuizButton.addEventListener('click', () => {
                let score = 0;
                const totalQuestions = Object.keys(correctAnswers).length;
                let answeredAll = true;

                for (const question in correctAnswers) {
                    const feedbackEl = document.getElementById(`feedback-${question}`);
                    const selectedOptionInput = quizForm.querySelector(`input[name="${question}"]:checked`); // Find the checked radio button

                    if (selectedOptionInput) {
                        const selectedValue = selectedOptionInput.value;
                        if (selectedValue === correctAnswers[question]) {
                            feedbackEl.textContent = 'Correct!';
                            feedbackEl.className = 'feedback correct';
                            score++;
                        } else {
                            feedbackEl.textContent = 'Incorrect.';
                            feedbackEl.className = 'feedback incorrect';
                        }
                    } else {
                        feedbackEl.textContent = 'Please select an answer.';
                         feedbackEl.className = 'feedback incorrect';
                         answeredAll = false; // Mark that not all questions were answered
                    }
                }
                 if(answeredAll){
                    quizScoreDisplay.textContent = `Your score: ${score} out of ${totalQuestions}`;
                 } else {
                    quizScoreDisplay.textContent = `Please answer all questions.`;
                 }
            });

        });
    </script>

</body>
</html>




